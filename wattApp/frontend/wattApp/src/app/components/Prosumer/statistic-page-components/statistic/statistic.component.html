<standard-template>
  <app-title-bar>
    <h3>Statistics</h3>
  </app-title-bar>

  <app-center-bar>
      
  <p-dropdown [options]="type" appendTo="body" [(ngModel)]="selectedType" optionLabel="name"  >
  </p-dropdown>
  <div class="main-grid">
    <app-history-forecast ></app-history-forecast>
    <app-pie-chart [Series]="count" [chartLabels]="rooms" [chartText]="text" [chartHeight]="piechartHeight1"></app-pie-chart>
    
    <p-table class="d-table" #dtUsers class="ui-table-default" dataKey="id" [scrollable]="true" 
    [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
    [globalFilterFields]="['id','firstName','lastName','email','role']" [paginator]="true" 
    style="margin-top:calc(2.8%);display: flex;position: relative;flex-direction: column;height: fit-content;width: 48.5%;border-radius: 20px;background-color: #1b1b1b;box-shadow: 5px 5px 15px black;transition: ease-in-out;
    ">

    <ng-template pTemplate="caption">
      <div class="flexRow">
          <h3>Users</h3>
          <span class="p-input-icon-left margin-left__auto margin-right__16px">
              <i class="pi pi-search"></i>
              <input pInputText type="text" (input)="dtUsers.filterGlobal($any($event.target).value, 'contains')" placeholder="Search keyword" />
          </span>
          <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" ></button>
      </div>
    </ng-template>

    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="firstName" style="min-width:10rem">
          <div class="flexRow">
              <p>First name</p>
              <p-sortIcon field="firstName"></p-sortIcon>
              <p-columnFilter class="ml-auto" type="text" field="firstName" display="menu"></p-columnFilter>
          </div>
        </th>
        <th pSortableColumn="lastName" style="min-width:10rem">
          <div class="flexRow">
              <p>Last name</p>
              <p-sortIcon field="lastName"></p-sortIcon>
              <p-columnFilter class="ml-auto" type="text" field="lastName" display="menu"></p-columnFilter>
          </div>
        </th>
        <th pSortableColumn="email" style="min-width:15rem">
          <div class="flexRow">
              <p>Email</p>
              <p-sortIcon field="email"></p-sortIcon>
              <p-columnFilter class="ml-auto" type="text" field="email" display="menu"></p-columnFilter>
          </div>
        </th>
        <th pSortableColumn="role" style="min-width:10rem">
          <div class="flexRow">
              <p>Role</p>
              <p-sortIcon field="role"></p-sortIcon>
              <p-columnFilter class="ml-auto" type="text" field="role" display="menu"></p-columnFilter>
          </div>
        </th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-user>
      <tr>
        <td>{{user.firstName}}</td>
        <td>{{user.lastName}}</td>
        <td>{{user.email}}</td>
        <td>{{user.role}}</td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
          <td colspan="5">No users found.</td>
      </tr>
  </ng-template>
  </p-table>
<app-area-bar-chart style="margin-top:calc(2.6%);"></app-area-bar-chart>
</div>
  </app-center-bar>
</standard-template>