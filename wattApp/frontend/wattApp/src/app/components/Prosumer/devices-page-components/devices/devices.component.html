<p-selectButton class="flexRow width__fit-content margin-left__auto margin-bottom__16px" [options]="switchOptions" [(ngModel)]="switchValue" optionLabel="label" optionValue="value"></p-selectButton>

<div *ngIf="switchValue == true">
<div *ngFor="let devices of devicesByRoomType | keyvalue">
  <p-carousel [value]="devices.value" [numVisible]="numVisible" [circular]="false" [numScroll]="1">
    <ng-template pTemplate="header">
      <div class="hederContainer">
        <p style="color:white" class="roomNameHeader">{{ devices.key }}</p>
        <p style="color:white" class="roomSizeHeader">Total: {{ devices.value.length }}</p>
      </div>
    </ng-template>
    <ng-template let-device pTemplate="device">
        <app-device-card [device]="device"></app-device-card>
    </ng-template>
  </p-carousel>
</div>
</div>

<div *ngIf="switchValue == false">
<p-table #dtAllDevices class="ui-table-default" [value]="devices" dataKey="id" [scrollable]="true" 
  [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
  [globalFilterFields]="['userId','deviceName','room', 'deviceType']" [paginator]="true">

  <ng-template pTemplate="caption">
    <div class="flexRow">
        <h3>Devices</h3>
        <span class="p-input-icon-left margin-left__auto margin-right__16px">
            <i class="pi pi-search"></i>
            <input pInputText type="text" (input)="dtAllDevices.filterGlobal($any($event.target).value, 'contains')" placeholder="Search keyword" />
        </span>
        <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dtAllDevices)"></button>
    </div>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="deviceName" style="min-width:15rem">
        <div class="flexRow">
            <p>Device name</p>
            <p-sortIcon field="deviceName"></p-sortIcon>
            <p-columnFilter class="ml-auto" type="text" field="deviceName" display="menu"></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="room" style="min-width:15rem">
        <div class="flexRow">
            <p>Room</p>
            <p-sortIcon field="room"></p-sortIcon>
            <p-columnFilter class="ml-auto" type="text" field="room" display="menu"></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="deviceType" style="min-width:10rem">
        <div class="flexRow">
            <p>Type</p>
            <p-sortIcon field="deviceType"></p-sortIcon>
            <p-columnFilter class="ml-auto" type="text" field="deviceType" display="menu"></p-columnFilter>
        </div>
      </th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-device>
    <tr>
      <td>{{device.deviceName}}</td>
      <td>{{device.room}}</td>
      <td>{{device.deviceType}}</td>
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr>
        <td colspan="3">No devices found.</td>
    </tr>
  </ng-template>
</p-table>
</div>