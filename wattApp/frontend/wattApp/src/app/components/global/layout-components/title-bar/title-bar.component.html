<ng-content></ng-content>

<p-dialog [style]="{width:'40%'}" header="Title2"  [transitionOptions]="'3ms'" 
[draggable]="true" [keepInViewport]="true" [resizable]="false" 
[blockScroll]="true" [closeOnEscape]="true" [dismissableMask]="true" 
[modal]="true" [(visible)]="display" [breakpoints]="{'960px': '75vw', '640px': '90vw'}"
[closable]="true">
<ng-template pTemplate="header" class="header-dialog">

  
<span>Registration</span>
</ng-template>

<ng-template pTemplate="content">
  <form [formGroup]="signUpForm" >
  
  <div class="p-inputgroup p-inputtext-lg p-input-filled">
    <div class="half">
      <input formControlName="firstName" name="firstName" appendTo="body" type="text"  class="p-inputtext-lg"  placeholder="NAME">
      <small class="text-danger" *ngIf="signUpForm.controls['firstName'].dirty && signUpForm.hasError('required','firstName')">First name is required</small>
      <input formControlName="lastName" name="lastName"  appendTo="body" type="text"   class="p-inputtext-lg"  placeholder="LAST NAME"> 
      <small class="text-danger" *ngIf="signUpForm.controls['lastName'].dirty && signUpForm.hasError('required','lastName')">Last name is required</small>
      <input formControlName="username" name="username"  appendTo="body" type="text"   class="p-inputtext-lg"  placeholder="USERNAME"> 
      <small class="text-danger" *ngIf="signUpForm.controls['username'].dirty && signUpForm.hasError('required','username')">Username is required</small>
      <input formControlName="password" name="password" appendTo="body" type="text"  class="p-inputtext-lg"  placeholder="PASSWORD"> 
      <small class="text-danger" *ngIf="signUpForm.controls['password'].dirty && signUpForm.hasError('required','password')">Password is required</small>
      <input formControlName="password2" name="password2" appendTo="body" type="text"  class="p-inputtext-lg"  placeholder="REPEAT PASSWORD"> 
      <small class="text-danger" *ngIf="signUpForm.controls['password2'].dirty && signUpForm.hasError('required','password2')">Password is required</small>
      <input formControlName="email" name="email" appendTo="body" type="text"   class="p-inputtext-lg"  placeholder="EMAIL"> 
      <small class="text-danger" *ngIf="signUpForm.controls['email'].dirty && signUpForm.hasError('required','email')">Email is required</small>
      <p-dropdown  [options]="roles" appendTo="body" optionLabel="name" (onChange)="onRoleChange($event)"></p-dropdown>
      
    </div>
  
    <div class="half">
      <input formControlName="phoneNumber" name="phone" appendTo="body" type="text"   class="p-inputtext-lg"  placeholder="PHONE NUMBER"> 
      <small class="text-danger" *ngIf="signUpForm.controls['phoneNumber'].dirty && signUpForm.hasError('required','phoneNumber')">Phone number is required</small>
      <input formControlName="address" name="address" appendTo="body" type="text"   class="p-inputtext-lg"  placeholder="ADDRESS" (change)="onAddressChange($event)">     
      <small class="text-danger" *ngIf="signUpForm.controls['address'].dirty && signUpForm.hasError('required','address')">Address is required</small>

      <app-registration-map [address] = "value" (messageEvent)="receiveMessage($event)"></app-registration-map>
    </div>
  </div> 
</form>
</ng-template>

<ng-template pTemplate="footer" >
  <button (click)="onSignUp()" type="button" class="footer-button" icon="pi pi-info-circle" label="Show"><span>Save</span></button>

</ng-template>
</p-dialog>


<p-dialog [style]="{width:'40%'}" header="Title"  [transitionOptions]="'3ms'" 
[draggable]="true" [keepInViewport]="true" [resizable]="false" 
[blockScroll]="true" [closeOnEscape]="true" [dismissableMask]="true" 
[modal]="true" [(visible)]="display2" [breakpoints]="{'960px': '75vw', '640px': '90vw'}"
[closable]="true" >
<ng-template pTemplate="header" class="header-dialog">
  <span>Add Device</span>
</ng-template>

<ng-template pTemplate="content">
  <form [formGroup]="addDeviceForm" >  
  <div class="p-inputgroup p-inputtext-lg p-input-filled">
    <div class="half">  
      Device type 
      <p-dropdown [options]="types" appendTo="body" optionLabel="name" (onChange)="onTypeChange($event)"/>
      Device model 
      <p-dropdown [options]="models" appendTo="body" optionLabel="name" (onChange)="onModelChange($event)"/>
    </div>
    
    <div class="half">       
       Room
      <p-dropdown [options]="rooms" appendTo="body" optionLabel="name" (onChange)="onRoomChange($event)"/>
       Name
      <input style="margin-top:45px;" formControlName="deviceName" name="name"  appendTo="body" type="text"   class="p-inputtext-lg"  placeholder="DEVICE NAME"> 
    </div>
  </div> 
  </form>
</ng-template>

<ng-template pTemplate="footer" style="min-height:100px;" >
  <button type="button" class="footer-button" icon="pi pi-info-circle" label="Show" (click)="addDevice()"><span>Save</span></button>

</ng-template>
</p-dialog>





<p-dialog [style]="{width:'40%'}" header="Title"  [transitionOptions]="'3ms'" 
    [draggable]="true" [keepInViewport]="true" [resizable]="false" 
    [blockScroll]="true" [closeOnEscape]="true" [dismissableMask]="true" 
    [modal]="true" [(visible)]="display3" [breakpoints]="{'960px': '75vw', '640px': '90vw'}"
    [closable]="true" >
    <ng-template pTemplate="header" class="header-dialog">
      <span>Add news</span>
    </ng-template>

    <ng-template pTemplate="content">
      <form [formGroup]="newsForm" > 
      
      <div class="p-inputgroup p-inputtext-lg p-input-filled">
        <div class="half">
          <input formControlName="title" name="name" appendTo="body" type="text" class="p-inputtext-lg" placeholder="TITLE"> 
          <textarea id="text" formControlName="content" name="name" appendTo="body" type="text" class="p-inputtext-lg" style="width:100%;height: 300px;"></textarea>
          <div style="display: flex; align-items: center;margin-right: 4%;">
            <span style="font-size: 19px;color:grey">Priority:</span>
            <input formControlName="regular" id="regular" type="checkbox" name="regular" />
            <label for="regular">Regular</label>
            <input formControlName="important" id="important" type="checkbox" name="important" />
            <label for="important">Important</label>
          </div>
        </div>
      </div> 
      </form>
      <script>
        function uncheckOther(clickedCheckbox) {
          var checkboxes = document.getElementsByName(clickedCheckbox.name);
          for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxes[i] !== clickedCheckbox) {
              checkboxes[i].checked = false;
            }
          }
        }
      </script>
    </ng-template>
    
    <ng-template pTemplate="footer" style="min-height:100px;" >
      <button type="button" class="footer-button" icon="pi pi-info-circle" label="Show" (click)="addNews()">Save</button>

    </ng-template>
  </p-dialog>




<nav>
  <ul class="right-part">
    <div *ngIf="isAdmin()" style="cursor:pointer"><li><a (click)="showDialog()"><div class="fa fa-user-plus " ></div><div class="text" [ngClass]="{ 'hidden-xs': !showText }">Add user</div></a></li></div>
    <div *ngIf="!isAdmin()" style="cursor:pointer"><li><a (click)="showDialog2()"><div class="fa fa-plus " ></div><div class="text" [ngClass]="{ 'hidden-xs': !showText }">Add device</div></a></li></div>
    <div *ngIf="isAdmin()" style="cursor:pointer"><li><a (click)="showDialog3()"><div class="fa-solid fa-newspaper " ></div><div class="text" [ngClass]="{ 'hidden-xs': !showText }">Add news</div></a></li></div>
    <li><a href="#"><div class="fa fa-address-book" ></div><div class="text" [ngClass]="{ 'hidden-xs': !showText }">About us</div></a></li>
    <li><a routerLink="/user"><img src="/assets/images/team-profile-pictures/vanja.png" class="profile-image"><div class="text" [ngClass]="{ 'hidden-xs': !showText }">Profile</div></a></li>
  </ul>
</nav>
